## Streamlit으로 OnlyOffice AI 문서 추천 시스템 구현 프롬프트

**목표**: OnlyOffice 스타일의 문서 편집기에 AI 문서 맥락 추천 기능을 통합한 Streamlit 애플리케이션 개발

### 1. 전체 레이아웃 구조

```plaintext
┌─────────────────────────────────────────────────────────────┐
│                    상단 툴바 (Office 스타일)                    │
├─────────────────────────────────────┬───────────────────────┤
│                                     │                       │
│            문서 편집 영역              │    AI 추천 사이드 패널    │
│         (메인 텍스트 에디터)            │      (320px 고정폭)     │
│                                     │                       │
│                                     │                       │
└─────────────────────────────────────┴───────────────────────┘
```

### 2. 상세 UI 컴포넌트 명세

#### A. 상단 툴바 (st.columns 사용)

- **배경색**: `#f7f7f7` (밝은 회색)
- **높이**: 50px
- **구성요소**:

- 왼쪽: 저장, 실행취소, 다시실행 버튼 (아이콘 사용)
- 중앙: 텍스트 서식 버튼들 (굵게, 기울임, 밑줄, 정렬)
- 오른쪽: **"✨ AI 추천"** 버튼 (보라색 배경 `#8b5cf6`, 흰색 텍스트)





#### B. 문서 편집 영역

- **배경**: 연한 회색 `#f8f9fa`
- **문서 컨테이너**: 흰색 배경, 그림자 효과, 최대 너비 800px, 중앙 정렬
- **텍스트 에디터**: `st.text_area` 사용, 높이 600px
- **기본 문서 내용**:


```plaintext
# 프로젝트 제안서

## 1. 프로젝트 개요
본 프로젝트는 인공지능 기반의 문서 작성 도구를 개발하여 업무 효율성을 극대화하는 것을 목표로 합니다. 기존의 문서 편집기에 AI 기능을 통합하여 사용자가 더욱 효과적으로 문서를 작성할 수 있도록 지원합니다.

## 2. 주요 기능
AI 문서 맥락 추천 시스템은 사용자가 작성 중인 내용을 분석하여 관련성 높은 자료와 정보를 실시간으로 제안합니다. 이를 통해 작성자는 보다 풍부하고 정확한 내용으로 문서를 완성할 수 있습니다.

## 3. 기대 효과
이 시스템을 도입함으로써 문서 작성 시간을 30% 단축하고, 정보의 정확성을 크게 향상시킬 수 있을 것으로 예상됩니다.
```

#### C. AI 추천 사이드 패널 (st.sidebar 사용)

- **너비**: 320px 고정
- **배경색**: `#fafafa`
- **구성**:


**1) 패널 헤더**:

```plaintext
┌─────────────────────────────────────┐
│ 🤖 AI 문서 추천        🔄 ❌        │
├─────────────────────────────────────┤
│ [전체 문서 기반 검색] 또는             │
│ [선택된 텍스트 기반 검색] 배지         │
├─────────────────────────────────────┤
│ 선택된 텍스트: "..."                 │
│ (회색 박스, 최대 3줄)                │
└─────────────────────────────────────┘
```

**2) AI 사고 과정 표시 (로딩 중)**:

```plaintext
🔄 AI 분석 진행 중

✅ 선택된 텍스트 분석 중... (완료)
✅ 관련 키워드 추출 중... (완료)  
🔄 데이터베이스에서 관련 문서 검색 중... (진행중)
⏳ AI 모델로 관련성 점수 계산 중... (대기)
⏳ 최적의 추천 결과 생성 중... (대기)
```

**3) 결과 화면**:

```plaintext
┌─────────────────────────────────────┐
│ 🧠 AI 사고 과정 보기 👁️              │  ← 토글 버튼
├─────────────────────────────────────┤
│ [토글 열림 시]                       │
│ ✅ 선택된 텍스트 분석 완료             │
│ ✅ 관련 키워드 추출 완료               │
│ ✅ 데이터베이스 검색 완료              │
│ ✅ AI 관련성 점수 계산 완료            │
│ ✅ 2개의 관련 문서를 찾았습니다        │
└─────────────────────────────────────┘

추천 문서 카드 1:
┌─────────────────────────────────────┐
│ 📈 AI 기반 문서 자동화 도구의 ROI 분석  │
│                                     │
│ 기업에서 AI 문서 도구 도입 시 평균     │
│ 35% 생산성 향상과 연간 $50,000...    │
│                                     │
│ [McKinsey & Company] [더보기 ▼]      │
│ [열기] [📄 문서에 삽입]               │
└─────────────────────────────────────┘

추천 문서 카드 2:
┌─────────────────────────────────────┐
│ 📚 문서 작성 효율성 향상을 위한 베스트   │
│                                     │
│ 구조화된 문서 템플릿과 AI 어시스턴트를  │
│ 활용한 효과적인 문서 작성 방법론...    │
│                                     │
│ [Harvard Business Review] [더보기 ▼] │
│ [열기] [📄 문서에 삽입]               │
└─────────────────────────────────────┘
```

**4) 패널 하단**:

```plaintext
┌─────────────────────────────────────┐
│ 🛡️ 개인정보는 안전하게 보호되며,       │
│    분석 목적으로만 사용됩니다.         │
└─────────────────────────────────────┘
```

### 3. 기능 흐름 명세

#### A. 검색 모드 구분

1. **전체 문서 기반 검색**: 상단 "AI 추천" 버튼 클릭
2. **선택된 텍스트 기반 검색**: 텍스트 선택 후 "선택된 텍스트로 AI 추천" 버튼 클릭


#### B. AI 분석 과정 시뮬레이션

```python
# 5단계 분석 과정을 3초간 순차적으로 표시
steps = [
    "선택된 텍스트 분석 중...",
    "관련 키워드 추출 중...", 
    "데이터베이스에서 관련 문서 검색 중...",
    "AI 모델로 관련성 점수 계산 중...",
    "최적의 추천 결과 생성 중..."
]
```

#### C. 문서 삽입 기능

- "문서에 삽입" 버튼 클릭 시
- 현재 커서 위치에 추천 내용 삽입
- 3초간 노란색 하이라이트 효과 (`background-color: #fef3c7`)
- 삽입 완료 메시지 표시


### 4. 스타일링 가이드

#### A. 색상 팔레트

```css
주 배경색: #ffffff
보조 배경색: #f8f9fa  
사이드바 배경: #fafafa
툴바 배경: #f7f7f7
AI 액센트: #8b5cf6 (보라색)
AI 배경: #f3f4f6
테두리: #e5e7eb
텍스트: #1f2937
보조 텍스트: #6b7280
```

#### B. 타이포그래피

- **제목**: 18px, 굵게, `#1f2937`
- **본문**: 14px, 보통, `#374151`
- **캡션**: 12px, 보통, `#6b7280`
- **버튼**: 14px, 중간 굵기


#### C. 컴포넌트 스타일

- **카드**: 흰색 배경, 1px 회색 테두리, 4px 둥근 모서리, 미세한 그림자
- **버튼**: 6px 둥근 모서리, 호버 시 색상 변화
- **배지**: 작은 크기, 둥근 모서리, 색상별 구분


### 5. 목업 데이터

#### A. 추천 문서 데이터

```python
recommendations = [
    {
        "title": "AI 기반 문서 자동화 도구의 ROI 분석",
        "summary": "기업에서 AI 문서 도구 도입 시 평균 35% 생산성 향상과 연간 $50,000 비용 절감 효과를 보여주는 최신 연구 결과입니다.",
        "full_content": """
        <h3>AI 문서 자동화 도구의 ROI 분석</h3>
        <p><strong>주요 발견사항:</strong></p>
        <ul>
            <li>평균 35% 생산성 향상</li>
            <li>연간 $50,000 비용 절감</li>
            <li>문서 작성 시간 40% 단축</li>
            <li>오류율 60% 감소</li>
        </ul>
        <p><strong>구현 권장사항:</strong> 단계적 도입을 통해 사용자 적응도를 높이고, 충분한 교육을 제공하여 최대 효과를 달성할 수 있습니다.</p>
        """,
        "source": "McKinsey & Company",
        "type": "research",
        "icon": "📈"
    },
    {
        "title": "문서 작성 효율성 향상을 위한 베스트 프랙티스", 
        "summary": "구조화된 문서 템플릿과 AI 어시스턴트를 활용한 효과적인 문서 작성 방법론과 실무 적용 사례를 제시합니다.",
        "full_content": """
        <h3>문서 작성 효율성 향상 방법론</h3>
        <p><strong>핵심 전략:</strong></p>
        <ol>
            <li>표준화된 템플릿 활용</li>
            <li>AI 어시스턴트 통합</li>
            <li>실시간 협업 도구 사용</li>
            <li>자동화된 검토 프로세스</li>
        </ol>
        <p>이러한 방법론을 통해 문서 품질을 유지하면서도 작성 시간을 대폭 단축할 수 있습니다.</p>
        """,
        "source": "Harvard Business Review",
        "type": "article", 
        "icon": "📚"
    }
]
```

### 6. 구현 시 주의사항

1. **반응형 레이아웃**: `st.columns([3, 1])` 사용하여 메인 영역과 사이드바 비율 조정
2. **상태 관리**: `st.session_state` 활용하여 패널 열림/닫힘, 선택된 텍스트, 분석 상태 관리
3. **애니메이션 효과**: `st.empty()` + `time.sleep()` 조합으로 단계별 로딩 효과 구현
4. **텍스트 선택**: `st.text_area`의 `on_change` 콜백과 텍스트 하이라이팅 기능 구현
5. **삽입 기능**: 선택된 위치에 텍스트 삽입 후 하이라이트 효과 적용


이 명세서를 바탕으로 Streamlit 애플리케이션을 구현하면 OnlyOffice 스타일의 전문적인 AI 문서 추천 시스템을 완성할 수 있습니다.